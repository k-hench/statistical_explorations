plot(points = T,
point_args = c(alpha = 1/2, size = 1),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = T,
nsamples = 200) %>%
plot(points = T,
point_args = c(color = clr_dark, size = .4),
line_args = c(colour = "black", size = .5))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark, size = .4),
line_args = c(colour = "black", size = .5))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark, size = 1),
line_args = c(colour = "black", size = 1))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark, size = 1),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_restricted) %>%
plot(line_args = list(color = clr0dd, size = .4),
points = TRUE)
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark, size = 1),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(color = clr0))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr0))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0)))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0, .1)))
conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)))
brms_c8_model_rugged_slope$formula
brms_c8_model_rugged_index$formula
brms_c8_model_rugged_index$formula
conditional_effects(brms_c8_model_rugged_index)
plot()
conditional_effects(brms_c8_model_rugged_index)
conditional_effects(brms_c8_model_rugged_index) %>%
plot()
conditional_effects(brms_c8_model_rugged_index) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
brms_c8_model_rugged_slope$formula
brms_c8_model_rugged_index
conditional_effects(brms_c8_model_rugged_index) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_slope) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") +
scale_color_brewer()
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")  %>%
plot() +
scale_color_brewer()
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")  %>%
plot()[[1]] +
scale_color_brewer()
?set_default_scale
scale_colour_manual(..., values = c('dodgerblue1', "red"))
scale_colour_discrete <- function(...){scale_colour_manual(..., values = c('dodgerblue1', "red"))}
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
scale_colour_ordinal() <- function(...){scale_colour_manual(..., values = c('dodgerblue1', "red"))}
scale_colour_ordinal <- function(...){scale_colour_manual(..., values = c('dodgerblue1', "red"))}
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") %>%
plot( plot = FALSE)[[1]] +
scale_color_grey() +
scale_fill_grey()
conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") %>%
plot(plot = FALSE)[[1]] +
scale_color_grey() +
scale_fill_grey()
(conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") %>%
plot(plot = FALSE)[[1]])
(conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") %>%
plot(plot = FALSE))
(conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx") %>%
plot(plot = FALSE)) +
scale_color_grey() +
scale_fill_grey()
test <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
plot(test, plot = FALSE)[[1]]
plot(test, plot = FALSE)[[1]] +
scale_color_grey() +
scale_fill_grey()
plot(c_eff, plot = FALSE)[[1]] +
scale_color_grey() +
scale_fill_grey() +
theme_gray()
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
plot(c_eff, plot = FALSE)[[1]] +
scale_color_grey() +
scale_fill_grey() +
theme_gray()
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(`1` = "red", `2` = clr0dd)) +
scale_fill_grey() +
theme_gray()
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(`1` = clr1, `2` = clr0dd)) +
scale_fill_manual(values = c(`1` = fll1, `2` = fll0))
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(`1` = clr1, `2` = clr0dd)) +
scale_fill_manual(values = c(`1` = fll1, `2` = clr_alpha(clr0dd)))
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(`1` = clr1, `2` = clr0dd)) +
scale_fill_manual(values = c(`1` = fll1, `2` = clr_alpha(clr0dd))) +
coord_cartesian(expand = 0)
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(`1` = clr1, `2` = clr0dd)) +
scale_fill_manual(values = c(`1` = fll1, `2` = clr_alpha(clr0dd))) +
coord_cartesian(expand = 0) +
theme(legend.position = "bottom")
c_eff <- conditional_effects(brms_c8_model_rugged_restricted)
plot(c_eff, line_args = list(color = clr0dd, size = .4))[[1]]
plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE)
plot(c_eff, line_args = list(color = clr0dd, size = .4))[[1]] +
plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE)
c_eff <- conditional_effects(brms_c8_model_rugged_restricted)
p1 <- plot(c_eff, line_args = list(color = clr0dd, size = .4))[[1]]
p2 <- plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE)
c_eff <- conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200)
p3 <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)))
p1 <- plot(c_eff, line_args = list(color = clr0dd, size = .4))[[1]]
p2 <- plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted)
p1 <- plot(c_eff, line_args = list(color = clr0dd, size = .4))[[1]]
p2 <- plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted)
p1 <- plot(c_eff, line_args = list(color = clr0dd, size = .4),
plot = FALSE)[[1]]
p2 <- plot(c_eff, line_args = list(color = clr0dd, size = .4),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200)
p3 <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)),
plot = FALSE)[[1]]
p1 + p2 + p3
p1 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
plot = FALSE)[[1]]
p2 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
point_args = c(color = clr_dark),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200)
p3 <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)),
plot = FALSE)[[1]]
p1 + p2 + p3
c_eff <- conditional_effects(brms_c8_model_rugged_restricted)
p1 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
plot = FALSE)[[1]]
p2 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
point_args = c(color = clr_dark),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200)
p3 <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)),
plot = FALSE)[[1]]
p1 + p2 + p3
conditional_effects(brms_c8_model_rugged_index) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
c_eff <- conditional_effects(brms_c8_model_rugged_restricted, plot = FALSE)
c_eff <- conditional_effects(brms_c8_model_rugged_restricted, plot = FALSE)
p1 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
plot = FALSE)[[1]]
p2 <- plot(c_eff,
line_args = list(color = clr0dd, size = .4),
point_args = c(color = clr_dark),
points = TRUE, plot = FALSE)[[1]]
c_eff <- conditional_effects(brms_c8_model_rugged_restricted,
spaghetti = TRUE,
ndraws = 200, plot = FALSE)
p3 <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
spaghetti_args = c(colour = clr_alpha(clr0dd, .1)),
plot = FALSE)[[1]]
p1 + p2 + p3
c_eff <- conditional_effects(brms_c8_model_rugged_index, plot = FALSE)
p <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"), plot = FALSE)
p[[1]]
p[[1]] + p[[2]]
conditional_effects(brms_c8_model_rugged_slope) %>%
plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"))
c_eff <- conditional_effects(brms_c8_model_rugged_slope, plot = FALSE)
p <- plot(points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
plot = FALSE)
p[[1]] + p[[2]]
c_eff <- conditional_effects(brms_c8_model_rugged_slope, plot = FALSE)
p <- plot(c_eff, points = TRUE,
point_args = c(color = clr_dark),
line_args = c(colour = "black"),
plot = FALSE)
p[[1]] + p[[2]]
scale_colour_ordinal <- function(...){scale_colour_manual(..., values = c('dodgerblue1', "red"))}
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
p <- plot(c_eff, plot = FALSE)
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx")
p <- plot(c_eff, plot = FALSE)
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "rugged_std_centered:cont_idx", plot = FALSE)
p <- plot(c_eff, plot = FALSE)
p[[1]]
p[[2]]
p[[1]] +
scale_color_manual(values = c(`1` = clr1, `2` = clr0dd)) +
scale_fill_manual(values = c(`1` = fll1, `2` = clr_alpha(clr0dd))) +
coord_cartesian(expand = 0) +
theme(legend.position = "bottom")
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "cont_idx:rugged_std_centered",
plot = FALSE)
c_eff <- conditional_effects(brms_c8_model_rugged_slope,
effects = "cont_idx:rugged_std_centered",
plot = FALSE)
plot(c_eff)
plot(c_eff, plot = FALSE)[[1]]
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(clr1, clr0, clr0dd)) +
scale_fill_manual(values = c(clr1, clr0, clr0dd) %>% clr_alpha()) +
theme(legend.position = "bottom")
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(clr1, clr0d, clr_dark)) +
scale_fill_manual(values = c(clr1, clr0d, clr_dark) %>% clr_alpha()) +
theme(legend.position = "bottom")
plot(c_eff, plot = FALSE)[[1]] +
scale_color_manual(values = c(clr1, clr0d, clr_dark)) +
scale_fill_manual(values = c(clr1, clr0d, clr_dark) %>% clr_lighten()) +
theme(legend.position = "bottom")
brms_c8_model_rugged_slope$data %>%
summarize(mean = mean(rugged_std_centered),
`mean + 1 sd` = mean(rugged_std_centered) + sd(rugged_std_centered),
`mean - 1 sd` = mean(rugged_std_centered) - sd(rugged_std_centered)) %>%
mutate_all(round, digits = 2)
brms_c8_model_tulips_interaction
brms_c8_model_tulips_interaction$formula
c_eff <- conditional_effects(brms_c8_model_tulips_interaction,
effects = "water_cent:shade_cent")
c_eff <- conditional_effects(brms_c8_model_tulips_interaction,
effects = "water_cent:shade_cent",
int_conditions = list(shade_cent = -1:1),
plot = "FALSE")
c_eff <- conditional_effects(brms_c8_model_tulips_interaction,
effects = "water_cent:shade_cent",
int_conditions = list(shade_cent = -1:1),
plot = "FALSE")
plot(c_eff,
points = TRUE,
plot = FALSE)[[1]] +
scale_fill_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_colour_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_x_continuous(breaks = -1:1) +
facet_wrap(~ shade_cent, labeller = label_both)
c_eff <- conditional_effects(brms_c8_model_tulips_interaction,
effects = "water_cent:shade_cent",
int_conditions = list(shade_cent = -1:1),
plot = FALSE)
plot(c_eff,
points = TRUE,
plot = FALSE)[[1]] +
scale_fill_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_colour_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_x_continuous(breaks = -1:1) +
facet_wrap(~ shade_cent, labeller = label_both)
brms_c8_model_tulips_interaction$formula
brms_c8_model_tulips_interaction
rbind(fitted(brms_c8_model_tulips_simple, newdata = new_data,
summary = FALSE, ndraws = 20),
fitted(brms_c8_model_tulips_interaction, newdata = new_data,
summary = FALSE, ndraws = 20)) %>%
as_tibble() %>%
set_names(mutate(new_data,
name = str_c(shade_cent, water_cent, sep = "_")) %>% pull()) %>%
mutate(row = 1:n(),
model = rep(c("simple", "interaction"), each = n() / 2) %>%
factor(., levels = c("simple", "interaction"))) %>%
pivot_longer(-c(row:model), values_to = "blooms_std") %>%
separate(name, into = c("shade_cent", "water_cent"),
sep = "_", convert = TRUE) %>%
ggplot(aes(x = water_cent, y = blooms_std)) +
geom_point(data = data_tulips, color = clr_dark) +
geom_line(aes(group = row, color = row %in% c(20,40)),
size = .3) +
facet_grid(model ~ shade_cent, labeller = label_both) +
scale_color_manual(values = c(`FALSE` = clr_alpha(clr0d),
`TRUE` = clr_alpha(clr_dark)),
guide = "none") +
coord_cartesian(xlim = c(-1, 1),
ylim = c(0, 1))
set.seed(42)
new_data <- crossing(shade_cent = -1:1,
water_cent = c(-1, 1))
rbind(fitted(brms_c8_model_tulips_simple, newdata = new_data,
summary = FALSE, ndraws = 20),
fitted(brms_c8_model_tulips_interaction, newdata = new_data,
summary = FALSE, ndraws = 20)) %>%
as_tibble() %>%
set_names(mutate(new_data,
name = str_c(shade_cent, water_cent, sep = "_")) %>% pull()) %>%
mutate(row = 1:n(),
model = rep(c("simple", "interaction"), each = n() / 2) %>%
factor(., levels = c("simple", "interaction"))) %>%
pivot_longer(-c(row:model), values_to = "blooms_std") %>%
separate(name, into = c("shade_cent", "water_cent"),
sep = "_", convert = TRUE) %>%
ggplot(aes(x = water_cent, y = blooms_std)) +
geom_point(data = data_tulips, color = clr_dark) +
geom_line(aes(group = row, color = row %in% c(20,40)),
size = .3) +
facet_grid(model ~ shade_cent, labeller = label_both) +
scale_color_manual(values = c(`FALSE` = clr_alpha(clr0d),
`TRUE` = clr_alpha(clr_dark)),
guide = "none") +
coord_cartesian(xlim = c(-1, 1),
ylim = c(0, 1))
brms_c8_model_tulips_interaction <- brm(
data = data_tulips,
family = gaussian,
blooms_std ~ 1 + water_cent + shade_cent + water_cent:shade_cent,
prior = c(prior(normal(0.5, 0.25), class = Intercept),
prior(normal(0, 0.25), class = b, coef = water_cent),
prior(normal(0, 0.25), class = b, coef = shade_cent),
prior(normal(0, 0.25), class = b, coef = "water_cent:shade_cent"),
prior(exponential(1), class = sigma)),
iter = 2000, warmup = 1000,
chains = 4, cores = 4,
seed = 42,
file = "brms/brms_c8_model_tulips_interaction")
mixedup::summarize_model(brms_c8_model_tulips_interaction)
set.seed(42)
new_data <- crossing(shade_cent = -1:1,
water_cent = c(-1, 1))
rbind(fitted(brms_c8_model_tulips_simple, newdata = new_data,
summary = FALSE, ndraws = 20),
fitted(brms_c8_model_tulips_interaction, newdata = new_data,
summary = FALSE, ndraws = 20)) %>%
as_tibble() %>%
set_names(mutate(new_data,
name = str_c(shade_cent, water_cent, sep = "_")) %>% pull()) %>%
mutate(row = 1:n(),
model = rep(c("simple", "interaction"), each = n() / 2) %>%
factor(., levels = c("simple", "interaction"))) %>%
pivot_longer(-c(row:model), values_to = "blooms_std") %>%
separate(name, into = c("shade_cent", "water_cent"),
sep = "_", convert = TRUE) %>%
ggplot(aes(x = water_cent, y = blooms_std)) +
geom_point(data = data_tulips, color = clr_dark) +
geom_line(aes(group = row, color = row %in% c(20,40)),
size = .3) +
facet_grid(model ~ shade_cent, labeller = label_both) +
scale_color_manual(values = c(`FALSE` = clr_alpha(clr0d),
`TRUE` = clr_alpha(clr_dark)),
guide = "none") +
coord_cartesian(xlim = c(-1, 1),
ylim = c(0, 1))
c_eff <- conditional_effects(brms_c8_model_tulips_interaction,
effects = "water_cent:shade_cent",
int_conditions = list(shade_cent = -1:1),
plot = FALSE)
plot(c_eff,
points = TRUE,
plot = FALSE)[[1]] +
scale_fill_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_colour_manual(values = c(clr3, clr0d, clr_dark), guide = "none") +
scale_x_continuous(breaks = -1:1) +
facet_wrap(~ shade_cent, labeller = label_both)
bookdown::render_book("index.Rmd")
knitr::knit("README.Rmd",output = "README.md")
knitr::knit("README.Rmd",output = "README.md")
knitr::knit("README.Rmd",output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::include_graphics("img/golem.svg")
knitr::include_graphics("img/golem.svg")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
emo::ji("wizzard")
emo::ji_completion("magi")
emo::ji_completion("wizz")
emo::ji_completion("wiz")
emo::ji("wizard")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
emo::ji("wizard")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
knitr::knit("README.Rmd", output = "README.md")
source("bayesian_settings.R")
library(rethinking)
library(tidybayes)
library(mixedup)
library(bayesplot)
sessionInfo()
library(reticulate)
sessionInfo()
reticulate::repl_python()
